{"version":3,"file":"parse.test.js","sourceRoot":"","sources":["..\\parse.test.ts"],"names":[],"mappings":"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","sourcesContent":["import test from \"ava\";\nconst pkgDir = require(\"pkg-dir\");\nconst mock = require(\"mock-require\");\nvar parse;\n\ntest.before(t => {\n    mock(\"./node\", {\n        node: function(specifier, properties) {\n            properties.__mainMock = true;\n            return [properties];\n        }\n    });\n    parse = require(\"./\").parse;\n});\n\ntest(\"var export\", async function(t) {\n    var code = `export var aaa = 1`;\n    var [result] = await parse(code);\n    t.is(result.name, \"aaa\");\n});\n\ntest(\"several var export\", async function(t) {\n    var code = `export var aaa, bbb`;\n    var [result, result2] = await parse(code);\n    t.is(result.name, \"aaa\");\n    t.is(result2.name, \"bbb\");\n});\n\ntest(\"export all\", async function(t) {\n    var code = `export * from './provider'`;\n    var [result] = await parse(code);\n    t.is(result.specifier, \"./provider\");\n});\n\ntest(\"export some from module\", async function(t) {\n    var code = `export {var1} from './provider'`;\n    var [result] = await parse(code);\n    t.is(result.name, \"var1\");\n    t.is(result.specifier, \"./provider\");\n});\n\ntest(\"pick export\", async function(t) { \n   var code = `export { CalendarEvent, EventAction } from 'calendar-utils'`;\n   var [first, second] = await parse(code);\n   t.is(first.name, \"CalendarEvent\");\n   t.is(first.specifier, \"calendar-utils\");\n   t.falsy(first.exportAll);\n   t.is(second.name, \"EventAction\");\n});\n\ntest(\"export declare class\", async function(t) {\n    var code = `export declare class Calendar`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Calendar\");\n});\n\ntest(\"export class\", async function(t) {\n    var code = `export class Aaa`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Aaa\");\n});\n\ntest(\"export interface\", async function(t) {\n    var code = `export interface Entry {}`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Entry\");\n});\n\ntest(\"export function\", async function(t) {\n    var code = `export function dummy() {}`;\n    var [result] = await parse(code);\n    t.is(result.name, \"dummy\");\n});\n\ntest(\"export somevar\", async function(t) {\n    var code = `export {somevar, otherVar}`;\n    var [result, other] = await parse(code);\n    t.is(result.name, \"somevar\");\n    t.falsy(result.exportAll);\n    t.is(other.name, \"otherVar\");\n    t.falsy(other.exportAll);\n});\n\n"]}