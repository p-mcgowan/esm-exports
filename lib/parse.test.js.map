{"version":3,"sources":["..\\src\\parse.test.ts"],"names":[],"mappings":"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","file":"parse.test.ts","sourcesContent":["import test from \"ava\";\nconst pkgDir = require(\"pkg-dir\");\nconst mock = require(\"mock-require\");\nvar parse;\n\ntest.before(t => {\n    mock(\"./node\", {\n        node: function(specifier, properties) {\n            properties.__mainMock = true;\n            return [properties];\n        }\n    });\n    parse = require(\"./parse\").default;\n});\n\ntest(\"var export\", async function(t) {\n    var code = `export var aaa = 1`;\n    var [result] = await parse(code);\n    t.is(result.name, \"aaa\");\n});\n\ntest(\"several var export\", async function(t) {\n    var code = `export var aaa, bbb`;\n    var [result, result2] = await parse(code);\n    t.is(result.name, \"aaa\");\n    t.is(result2.name, \"bbb\");\n});\n\ntest(\"export all\", async function(t) {\n    var code = `export * from './provider'`;\n    var [result] = await parse(code);\n    t.is(result.specifier, \"./provider\");\n});\n\ntest(\"export some from module\", async function(t) {\n    var code = `export {var1} from './provider'`;\n    var [result] = await parse(code);\n    t.is(result.name, \"var1\");\n    t.is(result.specifier, \"./provider\");\n});\n\ntest(\"pick export\", async function(t) { \n   var code = `export { CalendarEvent, EventAction } from 'calendar-utils'`;\n   var [first, second] = await parse(code);\n   t.is(first.name, \"CalendarEvent\");\n   t.is(first.specifier, \"calendar-utils\");\n   t.falsy(first.exportAll);\n   t.is(second.name, \"EventAction\");\n});\n\ntest(\"export declare class\", async function(t) {\n    var code = `export declare class Calendar`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Calendar\");\n});\n\ntest(\"export class\", async function(t) {\n    var code = `export class Aaa`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Aaa\");\n});\n\ntest(\"export interface\", async function(t) {\n    var code = `export interface Entry {}`;\n    var [result] = await parse(code);\n    t.is(result.name, \"Entry\");\n});\n\ntest(\"export function\", async function(t) {\n    var code = `export function dummy() {}`;\n    var [result] = await parse(code);\n    t.is(result.name, \"dummy\");\n});\n\ntest(\"export somevar\", async function(t) {\n    var code = `export {somevar, otherVar}`;\n    var [result, other] = await parse(code);\n    t.is(result.name, \"somevar\");\n    t.falsy(result.exportAll);\n    t.is(other.name, \"otherVar\");\n    t.falsy(other.exportAll);\n});\n\n"]}